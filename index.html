<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Charmaine's Tiendita</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="auction-container">
        <!-- Store Name Section -->
        <header>
            <h1>Charmaine's Tiendita!</h1>
            <h2>Welcome to my store!</h2>
        </header>

        <h3>Thank you for visiting my website. I coded it from scratch. All bids are placed in Peso format. Have fun! And don't forget to come back. I will try to update the website daily.<br>
            Gracias por visitar mi sitio web. Lo codifiqué desde cero. Todas las ofertas se realizan en formato Peso. ¡Diviértete!</h3>

        <div id="product-listing">
            <!-- Product 1 -->
            <div class="product" id="product-tv">
                <h2>Item 1: Television</h2>
                <p>Description: An element TV with an Amazon HDMI.</p>
                <img src="images/tv.jpeg" alt="Television" class="product-image">
                <p id="current-bid-tv">Current Bid: <span>$0</span></p>
                
                <div id="timer-tv">
                    <span id="countdown-tv"></span>
                </div>
                
                <!-- Bid Form with Name Input -->
                <form id="bid-form-tv" onsubmit="event.preventDefault(); placeBid('tv')">
                    <input type="text" name="user_name" placeholder="Enter your name" required>
                    <input type="number" name="bid_amount" id="bid-amount-tv" placeholder="Enter your bid" min="1" required>
                    <button type="submit">Place Bid</button>
                </form>

                <!-- Display Bid History -->
                <h3>Bid History</h3>
                <ul id="bid-history-tv">
                    <!-- Example Bid History -->
                </ul>
            </div>

            <!-- Product 2 -->
            <div class="product" id="product-ipad">
                <h2>Item 2: iPad</h2>
                <p>Description: An Apple iPad.</p>
                <img src="images/ipad.jpeg" alt="iPad" class="product-image">
                <p id="current-bid-ipad">Current Bid: <span>$1000</span></p>
                
                <div id="timer-ipad">
                    <span id="countdown-ipad"></span>
                </div>

                <!-- Bid Form with Name Input -->
                <form id="bid-form-ipad" onsubmit="event.preventDefault(); placeBid('ipad')">
                    <input type="text" name="user_name" placeholder="Enter your name" required>
                    <input type="number" name="bid_amount" id="bid-amount-ipad" placeholder="Enter your bid" min="1001" required>
                    <button type="submit">Place Bid</button>
                </form>

                <!-- Display Bid History -->
                <h3>Bid History</h3>
                <ul id="bid-history-ipad">
                    <!-- Example Bid History -->
                    <li>Ruth: $1000</li>
                </ul>
            </div>

            <!-- Product 3 -->
            <div class="product" id="product-heater">
                <h2>Item 3: Small Heater</h2>
                <p>Description: A small heater.</p>
                <img src="images/heater.jpeg" alt="Heater" class="product-image">
                <p id="current-bid-heater">Current Bid: <span>$0</span></p>
                
                <div id="timer-heater">
                    <span id="countdown-heater"></span>
                </div>
                
                <!-- Bid Form with Name Input -->
                <form id="bid-form-heater" onsubmit="event.preventDefault(); placeBid('heater')">
                    <input type="text" name="user_name" placeholder="Enter your name" required>
                    <input type="number" name="bid_amount" id="bid-amount-heater" placeholder="Enter your bid" min="1" required>
                    <button type="submit">Place Bid</button>
                </form>

                <!-- Display Bid History -->
                <h3>Bid History</h3>
                <ul id="bid-history-heater">
                    <!-- Example Bid History -->
                </ul>
            </div>

            <!-- Product 4 -->
            <div class="product" id="product-blanket">
                <h2>Item 4: Heated Blanket</h2>
                <p>Description: Gray heated blanket you can plug into wall outlet. Has different modes of heat.</p>
                <img src="images/heated-blanket.jpeg" alt="Heated Blanket" class="product-image">
                <p id="current-bid-blanket">Current Bid: <span>$0</span></p>
                
                <div id="timer-blanket">
                    <span id="countdown-blanket"></span>
                </div>
                
                <!-- Bid Form with Name Input -->
                <form id="bid-form-blanket" onsubmit="event.preventDefault(); placeBid('blanket')">
                    <input type="text" name="user_name" placeholder="Enter your name" required>
                    <input type="number" name="bid_amount" id="bid-amount-blanket" placeholder="Enter your bid" min="1" required>
                    <button type="submit">Place Bid</button>
                </form>

                <!-- Display Bid History -->
                <h3>Bid History</h3>
                <ul id="bid-history-blanket">
                    <!-- Example Bid History -->
                </ul>
            </div>
        </div>
    </div>

    <!-- Footer Section with Buttons -->
    <footer>
        <div class="footer-content">
            <!-- Contact Me Button -->
            <button class="footer-button" id="contact-btn">Contact Me</button>

            <!-- About Me Button (Link to new website) -->
            <a href="https://luckycharmz1.github.io/Charmaine/" target="_blank">
                <button class="footer-button">About Me</button>
            </a>

            <!-- WhatsApp Button -->
            <a href="https://wa.me/4089123090" target="_blank" id="whatsapp-btn">
                <button class="footer-button">WhatsApp Me</button>
            </a>
            <h4>Charmaine's Tiendita @ 2025</h4>
        </div>
    </footer>

    <!-- Contact Form Modal -->
    <div id="contact-form-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="close-btn">&times;</span>
            <h2>Contact Me</h2>
            <form id="contact-form">
                <label for="name">Your Name:</label>
                <input type="text" id="name" name="name" required placeholder="Your Name">
                
                <label for="email">Your Email:</label>
                <input type="email" id="email" name="email" required placeholder="Your Email">
                
                <label for="message">Your Message:</label>
                <textarea id="message" name="message" required placeholder="Enter your message here"></textarea>

                <button type="submit" id="submit-btn">Send Message</button>
            </form>
        </div>
    </div>

    <script src="auction.js"></script> <!-- Auction related JS -->
    <script src="script.js"></script>  <!-- Contact form modal and general functionality -->

    <script>
        // Contact Modal JS
        const contactBtn = document.getElementById("contact-btn");
        const contactModal = document.getElementById("contact-form-modal");
        const closeBtn = document.getElementById("close-btn");

        contactBtn.addEventListener("click", () => {
            contactModal.style.display = "block"; // Show modal on button click
        });

        closeBtn.addEventListener("click", () => {
            contactModal.style.display = "none"; // Close modal when 'X' is clicked
        });

        // Contact Form Submission
        const contactForm = document.getElementById("contact-form");
        contactForm.addEventListener("submit", function(event) {
            event.preventDefault(); // Prevent form from reloading the page

            const formData = new FormData(contactForm);
            const data = {
                name: formData.get("name"),
                email: formData.get("email"),
                message: formData.get("message")
            };

            fetch('/send-contact', {
                method: 'POST',
                body: JSON.stringify(data),
                headers: {
                    'Content-Type': 'application/json'
                }
            })
            .then(response => response.json())
            .then(responseData => {
                alert("Your message has been sent!");
                contactModal.style.display = "none"; // Close modal after submission
            })
            .catch(error => {
                console.error("Error sending message:", error);
                alert("There was an error sending your message. Please try again.");
            });
        });
    </script>
</body>
</html>
